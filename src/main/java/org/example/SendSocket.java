package org.example;

import java.io.IOException;
import java.io.OutputStream;
import java.net.*;

public class SendSocket {

    public static void main(String[] args) {
        String serverIp = "120.50.134.155";
        int serverPort = 5004;

        try{
            Socket socket = new Socket(serverIp, serverPort);
            OutputStream out = socket.getOutputStream();

            String dataToSend1 = "4352505420342033320d0a414141414177414141414259326d5461476677786b44734356684f616c586c74";
            String dataToSend2 = "435250542031362039360d0a41414141417741414141425239347459774a395738584469634b56454a4d4e49695a345356382b62573968384d72584144695958366c35614f493168306f617031704d61596e4e436f45365a716d6a39653576616f415a336879373031516936";
            String dataToSend3 = "435250542033203538380d0a41414141417741414141414a314a59546a476d7068684b59546a6a46633370495653395841636f476547434452467239436d586b6434536d3232484a75714b516370374c70476968666362536f54316e59356b33654730686e4e483252636446466862584c67726e596748504d396f4a47784a322f376748504747763050744f7442355439335544685a5a744a535542336a514c53514c6b6576397379496871646359546e57706d716a6652537466316862634b6b64705a2b6f6a54796d38555154686c6b394b517258596f615578543855654a536f7166614d4941685a6879435463797644546566422b53555959466573757135424a597a56797477523075587854496d31734b51674c3038712b71662f754d6d5568674c4b332b347a52476e664b66524a58714a4b71496d377139644f64575243455035364d5768395574736c346266653368535a7777556471695655424951347432785949416d6437306a6541355370516e6b52756171426350316261564470565265583634784354686256596c617131396c6b6f616965315948784f4e766b6c4f743276306735614e377639687a3577504230617a2b666959326a714748526a394330556d4a2f722b67546a566976674e36733758456c4f795a454b485a584138456f767755597175324c34466933624a67656d6c31437956374762786f492b7956504a456a7235576f6261584a68786f54585964514a72784d72795158754d7a30564c684f7831743654504b4c55375a642f473031737663715937467545795a756a4f57482f6c32466c2f2b483134687243733d";
            byte[] dataBytes1 = hexStringToByteArray(dataToSend1);
            out.write(dataBytes1);
            out.flush();

            byte[] dataBytes2= hexStringToByteArray(dataToSend2);
            out.write(dataBytes2);


            socket.close();

            System.out.println("데이터를 서버로 전송했습니다.");

        } catch (UnknownHostException e) {
            throw new RuntimeException(e);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }

    }

    public static byte[] hexStringToByteArray(String hexStream) {
        int len = hexStream.length();
        byte[] data = new byte[len / 2];
        for (int i = 0; i < len; i += 2) {
            data[i / 2] = (byte) ((Character.digit(hexStream.charAt(i), 16) << 4)
                    + Character.digit(hexStream.charAt(i + 1), 16));
        }
        return data;
    }

}
